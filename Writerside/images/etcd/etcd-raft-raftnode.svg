<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="762px" height="372px" viewBox="-0.5 -0.5 762 372" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2023-11-05T13:26:33.185Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/22.0.3 Chrome/114.0.5735.289 Electron/25.8.4 Safari/537.36&quot; etag=&quot;V17eSX2G9bJa5lGg7vLI&quot; version=&quot;22.0.3&quot; type=&quot;device&quot; pages=&quot;2&quot;&gt;&lt;diagram name=&quot;第 1 页&quot; id=&quot;B31cAEQXhVz9xi09BcZ-&quot;&gt;7ZzLcqM4FIafxku7uEngZRL3TC+mp7oqi+leYhA2E2wxgGPcTz+SkWwE8iU2t7iVVCVICAE6P5+O/yiMzJdV/mfixstv2EfRyND8fGTORoYxBRb5SSt2RYVt2EXFIgn9oko/VryGvxCr1FjtJvRRKjTMMI6yMBYrPbxeIy8T6twkwVuxWYAj8ayxu0C1ilfPjeq1/4R+tixqHX4XtP4rChdLfmYdTos9K5c3ZneSLl0fb0tV5peR+ZJgnBVbq/wFRXTs+LgUx/1xYu/hwhK0zq454Os3b5Mnb8u/8Wz1rzW2f0aOM9bZfby70YbdMbvabMeHYLsMM/Qaux4tb0mUR+bzMltFpKSTTTeNi4EPwhyRcz2v8Ls73x9MdycoDX+Vyzhzs1KZ6AWVy8gPy8UIe2+015lGCizIpd3s6lGSofzkuOiH0SYqRXiFsmRHmrADLBYfJlAdsh62x3Af2ixLoT5Uukxii0PXxyiQDRaIjwRFEhMYkdM+B5jcUzk48L8N5jvG6f7peSINyP3n+9Hh+8nWgv5+iuMo9NwsxGveJ7nEotuiRS38Cd6s/X0I6IBfEEOXsQ/CKHrBEU7212kGQWB4HqlPswS/odIeH84hgM2ohauDqcXQJGrRJGppTSxGe2JJ3CB7OJUA+s0GoVRffMnUA/dfrajHNPpWD59mz/GfTFwx3QwilD/RKZXGYO2zzZkXuWkaemKEj3LQ+o237yInkFIBeg6aB4e4Ir+WCFyMailsQBI1XpegiBD3XexeFkp2hu843D+5PIeqIMeq9JDiTeIhdlA5ATjfj1m9ksxNFiir9bPX1eGm75Bai9NanODYuxZVNNJ/uXOSp4p5TBQu1lTPJOqIaOSZPulkroye2I5V6Pu0j5qAYzpk+0EEzyMwqwu+m5RHbHpMPMtCPgOBk9AaaxPDBoJ2+Kxzq7JZN454AA6CFLWjPdks2TjmyCgnux+0MAG8+JPHmBZmebnlbDcAPALk+JYMj44xN0vT3nDxaJgXuHYtH0lHE1HmNdS2jUjYYjKHXH+nGHkzI42zjNQmOjQq83QjiISdIdJUmeDQUaeDhlLBaked54JWm6Dz3hXnbuac+ei5oKUsT6BPhRDKPU+9zrEacBozIiynPSIo0/NevZiiXvp3Pa1pixOIsj0btj2r+unf9wTK9xx8tgtghTq3ZrvVjrrOdnmyrZzPoWW74OGdT6CczxOA/PzOp61d4Nq1gCQd9ex8Apn7pJzPQTDy0Z1PIDOjVC44KNRBo6FcsNpR57kgaBN0yvm8g3PWw+eCsj8v/l7Op+GIqz0tp/fVnkDmRyvncxjOpzEVpwvQv3PVolGunM+mnc+qfqDVu35kzrnKdgeV7ZqVJBXAG7Pdakew44/1UGazK+dzCNnu9NGzXf7MKOfz8ZxPC17g2rWAJB1VnM8aa9tGpMygV87nEBgJz+d2n9/5hGrN5+BRZzpN5YJOz7mgWvM5VM49/JpPKDNNqrKQQS0lD0V2UzpYTgZLueGJdBDlYfaDy4Fsl44ipeNBtMCPuZZc5C73iDgzPvw1AAUCzjQsFs/2xsJpxb0Ft6Z9lX/6t7RuWWi3uCJohdKUvtSiDxpqUhq2QCznErF0zYIisvRGJMj/k7ADZl1h1DXMrI99hO2ZWfyvWZ+NWXbF2b2ZWUalo7aZVf+gekBN90yhTGNvCzK0dhhz0SHTD7n4vVCxxch2hRhbZs+2ghiGCu0DqChhydJNAUwTjYzYBTjR0neUhGSMqNZ6o4+u6NOIVFtcIPg7ZEz2xZXOOtBEDDXDtnFl4db9bCPF41vTiubHV8+ZX/4H&lt;/diagram&gt;&lt;diagram name=&quot;第 2 页&quot; id=&quot;d0eKc2QonQoaxBWtmGLP&quot;&gt;7VrbcuI4EP0aVe0+QOG7/GiDmXmY206manfzsiVsGVwxyGvMbb9+W7JkbDAhQzCTpJKpmkgtqbvVOn10cZAxnG8/5CSbfWYRTZE+iLbIGCFd1xyswS8u2ZUSR3dKwTRPItlpL7hL/qNSOJDSVRLRZaNjwVhaJFlTGLLFgoZFQ0bynG2a3WKWNq1mZEqPBHchSY+lfyZRMSulWM2Cyz/SZDpTljXbLVvmRHWWM1nOSMQ2NZERIGOYM1aUpfl2SFMePBUXRo3eKvv2Fd8b5nr9sB2n2Y9eqWz8M0OqKeR0UVysevTZ3vz4eh+TzL4P2Kfvf/xDv/SsUvWapCsZLznXYqcCmLPVIqJcyQAZ/maWFPQuIyFv3QBkQDYr5inUNChKdTQv6PYg/mec16qIAhQpm9Mi38E4qUU3pGM7hUupd7NfU92UCzWrraehhETiaFrp3scKCjJcP7EqRkvo7BTM+jGDmdZjaP+7YqqhtxQp4kEHiMpWxEy1Q2nKf+ckLr5AJiqF4F+ps2x+ZIm080s0Z2syESN5LafgT73OClLU6kAHtF6nUVKvpix8qLAhU7jWHCdpOmQpy4WfRhzHehiCfFnk7IHWWiJ7Ylt2lwCymgAy9BYADVoA1Bl+zG7x8+awY/F/Mgg1efnThilb/NwQU6b5qzH1BDqHXSzjxTilW4/vr3xhFpEsjsKULJdJ2Fz25hbwC0EQEYrjVgKxQ0wncbXYNDo6FVy21LWltFpWUslympIiWTdtti2vtPCNJSLHFZLwATvZByqWbJWHVI6qb/JnFFWQVIoKkk9pcaRIoK2a9uUAtLsjtSxnWfhUVuPr/4lM4CzbADJJk+mCoxywQAE5PieFBA6LnmyYJ1HEdRzBOuMREzG0fGSNjtPgqrA/yVjNrvuz6Vl4W48yWW/Q1x2rgZye/jxkSzW4OYDF8ZJ2gjznFtQHMc53f/FK31LVv9UK88poW+852r0AyrQojsw2ysT6xKjtj6+MMk39DNM9lTJBUb8J/SP27Zg0cYcnQUqi3TtrXsqazqOsOehrtjIhoXMd0rRvRZru+3nxVZKfYV7pvHio6NbnRfVK2A33het36ruU+tw3dGBsffrUukNeUITRHc1hOd7cKwwOafsL3gRbpjW44WtL9bJyi9eWVgTp71eOVpDYEXbs1iuH4VmmseerV7brmoo8qzdk/dIrx+DgyqGbB6qut++2QrfDjxcky9L3K8dT9t3TpPI2rhzt2+7zv3to5gnoaX0eCPXxLLCQO0DemBewhzwsJThAgYl8H3nWlAHZFskCOtvItZHv8j7+EGEYhZE/5v2h4GkID8XwYVOPxXv60GcsRkEfF+EBcj05HDtcM3aR5+z16DaZ8y1dTLqX97/zS/pvv0uvcCA+38AwTwzgxkbIFePBpO9Iq+AuL4C7mlANxmw+ygd7WFjVxOQrz8r5+MIM5l5yEyOIAtfjmQibKHDExOzDGbrCDT+AUSq8fZnnUq0r1XpeOCMA/RQFBreB9acyAWRQ0SSB018JT31XVLSR0rh4jDTaDljNbberU4zpHmSvurmd+5CtDbo6xmjPf7Q/mZE6z8jacfhMTrrIHb+o5Fz28xLoB+lZEsxxQrrcCVy6xTNQjBVp5Yn8golYwiVohNQLar7ZXBlPRofne6kDemJDSEyY2jKc0agv/l+llHtUpXQtCoeZXDMgfXPEPLCY0FCE4ygKfEbcvPT/mIuun9zVBeLUlePlJ3fPaB4QNbPlinKt5Ibq/m+Pyt15/xdcRvA/&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><style type="text/css">@import url(https://fonts.googleapis.com/css?family=Architects+Daughter);&#xa;</style></defs><g><rect x="262" y="31" width="240" height="340" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="282" y="181" width="200" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 201px; margin-left: 283px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 20px;">raftNode</font></div></div></div></foreignObject><text x="382" y="205" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">raftNode</text></switch></g><rect x="282" y="301" width="200" height="40" rx="6" ry="6" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 321px; margin-left: 283px;"><div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 20px;">raft</font></div></div></div></foreignObject><text x="382" y="325" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">raft</text></switch></g><path d="M 307 221.5 L 317 221.5 L 317 281.5 L 327.5 281.5 L 312 300.5 L 296.5 281.5 L 307 281.5 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 259px; margin-left: 311px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><font style="font-size: 20px;">propc</font></div></div></div></foreignObject><text x="311" y="262" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">propc</text></switch></g><path d="M 457 300.53 L 447 300.47 L 447.38 240.47 L 436.88 240.4 L 452.5 221.5 L 467.88 240.6 L 457.38 240.53 Z" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 261px; margin-left: 451px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><font style="font-size: 20px;">readyc</font></div></div></div></foreignObject><text x="451" y="265" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">readyc</text></switch></g><path d="M 367 221.5 L 377 221.5 L 377 281.5 L 387.5 281.5 L 372 300.5 L 356.5 281.5 L 367 281.5 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 259px; margin-left: 371px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><font style="font-size: 20px;">recvc</font></div></div></div></foreignObject><text x="371" y="262" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">recvc</text></switch></g><rect x="282" y="60" width="200" height="40" rx="6" ry="6" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 80px; margin-left: 283px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 20px;">EtcdServer</font></div></div></div></foreignObject><text x="382" y="84" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">EtcdServer</text></switch></g><path d="M 455 181.53 L 445 181.47 L 445.38 121.47 L 434.88 121.4 L 450.5 102.5 L 465.88 121.6 L 455.38 121.53 Z" fill="#6d8764" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 142px; margin-left: 449px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><font style="font-size: 20px;">applyc</font></div></div></div></foreignObject><text x="449" y="146" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">applyc</text></switch></g><rect x="521" y="121" width="240" height="100" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 238px; height: 1px; padding-top: 171px; margin-left: 523px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 14px;">1. raftNode启动后以goroutine方式运行在后台，通过执行&lt;-r.Ready()从raft模块获取共识消息，进一步处理后发往raftNode.applyc这个channel。</font></div></div></div></foreignObject><text x="523" y="175" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">1. raftNode启动后以goroutine方式运行在后台，通过执行&lt;-r.Ready()从raft模块获取共识消息，进一步处理后发往raftN...</text></switch></g><rect x="0" y="0" width="240" height="100" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 238px; height: 1px; padding-top: 50px; margin-left: 2px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 14px;">2. EtcdServer启动后也以goroutine方式运行在后台，通过执行&lt;-s.r.apply()从raftNode获取需要apply的数据，接着调用sched.schedule()进行处理，最终会执行到apply模块。</font></div></div></div></foreignObject><text x="2" y="54" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">2. EtcdServer启动后也以goroutine方式运行在后台，通过执行&lt;-s.r.apply()从raftN...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>